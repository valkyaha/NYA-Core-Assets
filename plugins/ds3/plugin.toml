[plugin]
id = "ds3"
name = "Dark Souls III"
short_name = "DS3"
version = "1.2.0"
author = "NYA Core"
description = "Dark Souls III autosplitter with full boss tracking"
update_url = "https://raw.githubusercontent.com/valkyaha/NYA-Core-Assets/main/plugins/ds3/plugin.toml"

# Save file location for practice mode backup/restore
save_location_windows = "%APPDATA%/DarkSoulsIII"
save_location_linux = "~/.local/share/Steam/userdata"
save_type = "folder"

[process]
names = ["DarkSoulsIII.exe"]

# =============================================================================
# RECOMMENDED TOOLS
# =============================================================================

[[tools]]
name = "DS3 Connection Manager"
description = "Tool to manage online/offline mode and backups"
author = "TechtonicaDS3"
version = "1.0.1"
download_url = "https://github.com/TechtonicaDS3/DS3ConnectionManager/releases/latest/download/DS3ConnectionManager.zip"
category = "utility"
required = false

[[tools]]
name = "Honest Merchant"
description = "Practice tool for item and stats management"
author = "Dawid_P"
version = "2.0.0"
download_url = "https://github.com/UnboundNova/HonestMerchant/releases/latest/download/HonestMerchant.zip"
category = "practice"
required = false

[[tools]]
name = "SoulSplitter"
description = "LiveSplit auto-splitter (alternative to built-in)"
author = "FrankvdStam"
version = "3.0.0"
download_url = "https://github.com/FrankvdStam/SoulSplitter/releases/latest/download/SoulSplitter.zip"
category = "speedrun"
required = false

[[tools]]
name = "SilkySouls 3"
description = "Comprehensive practice tool with save states, stats editor, and debug features"
author = "borgCode"
version = "Latest"
download_url = "https://github.com/borgCode/SilkySouls3/releases"
category = "practice"
required = false

[autosplitter]
enabled = true
algorithm = "category_decomposition"

# Category decomposition algorithm configuration (DS3 style)
# Based on SoulSplitter by FrankvdStam
[autosplitter.category_config]
primary_pattern = "sprj_event_flag_man"
secondary_pattern = "field_area"
base_offset = 536           # 0x218
entry_size = 24             # 0x18
category_count = 6
category_multiplier = 168   # 0xa8
# DS3 uses two-step pointer chain: FieldArea -> 0x0 -> 0x10
field_area_base_offset = 0
world_info_offset = 16      # 0x10
world_info_struct_size = 56 # 0x38
world_block_struct_size = 112  # 0x70

# Memory patterns for finding game data structures (from SoulSplitter)
[[autosplitter.patterns]]
name = "sprj_event_flag_man"
pattern = "48 c7 05 ? ? ? ? 00 00 00 00 48 8b 7c 24 38 c7 46 54 ff ff ff ff 48 83 c4 20 5e c3"
rip_offset = 3
instruction_len = 11

[[autosplitter.patterns]]
name = "field_area"
pattern = "4C 8B 3D ? ? ? ? 8B 45 87 83 F8 FF 74 69 48 8D 4D 8F 48 89 4D 9F 89 45 8F 48 8D 55 8F 49 8B 4F 10"
rip_offset = 3
instruction_len = 7
pointer_offsets = []  # No dereference - raw address

[[autosplitter.patterns]]
name = "new_menu_system"
pattern = "48 8B 0D ? ? ? ? 48 8B 7C 24 20 48 8B 5C 24 30 48 85 C9"
rip_offset = 3
instruction_len = 7
pointer_offsets = [0]

[[autosplitter.patterns]]
name = "game_data_man"
pattern = "48 8B 0D ? ? ? ? 4C 8D 44 24 40 45 33 C9 48 8B D3 40 88"
rip_offset = 3
instruction_len = 7
pointer_offsets = [0]

[[autosplitter.patterns]]
name = "player_ins"
pattern = "48 8B 0D ? ? ? ? 45 33 C0 48 8D 55 E7 E8 ? ? ? ? 0F 2F"
rip_offset = 3
instruction_len = 7
pointer_offsets = [0]

[[autosplitter.patterns]]
name = "loading"
pattern = "C6 05 ? ? ? ? ? E8 ? ? ? ? 84 C0 0F 94 C0 E9"
rip_offset = 2
instruction_len = 7
pointer_offsets = []  # No dereference - raw address

[[autosplitter.patterns]]
name = "sprj_fade_imp"
pattern = "48 8B 0D ? ? ? ? 4C 8D 4C 24 38 4C 8D 44 24 48 33 D2"
rip_offset = 3
instruction_len = 7
pointer_offsets = [0]

# =============================================================================
# POINTER CHAINS - Derived pointers from base patterns
# =============================================================================

[autosplitter.pointers]
# Player game data from GameDataMan
player_game_data = { base = "game_data_man", offsets = [0, 0x10] }

# Player physics/position from PlayerIns
sprj_chr_physics_module = { base = "player_ins", offsets = [0, 0x80, 0x40, 0x28] }

# Blackscreen from SprjFadeImp
blackscreen = { base = "sprj_fade_imp", offsets = [0, 0x8] }

# =============================================================================
# MEMORY LAYOUT - Offsets for reading values
# =============================================================================

[autosplitter.memory_layout]
# In-game time at GameDataMan + 0xA4 (or 0x9C for older versions)
igt_offset = 0xA4
igt_offset_old = 0x9C

# Loading state - read at (loading_addr - 1)
loading_read_offset = -1

# Blackscreen check at blackscreen_addr + 0x2EC
blackscreen_offset = 0x2EC

# Event flag calculation offsets
event_flag_base_offset = 0x218
event_flag_stride = 0x18
block_stride = 0x70
block_category_stride = 0xA8

# Attribute offsets from PlayerGameData
[autosplitter.memory_layout.attributes]
vigor = 0x44
attunement = 0x48
endurance = 0x4C
vitality = 0x6C
strength = 0x50
dexterity = 0x54
intelligence = 0x58
faith = 0x5C
luck = 0x60
soul_level = 0x68

# =============================================================================
# VERSION VARIANTS - Game version specific offsets
# =============================================================================

[[autosplitter.versions]]
version = "default"
description = "Dark Souls III (latest)"
igt_offset = 0xA4

[[autosplitter.versions]]
version = "older"
description = "Dark Souls III (older versions)"
igt_offset = 0x9C

# =============================================================================
# MAIN GAME BOSSES
# =============================================================================

[[bosses]]
id = "iudex_gundyr"
name = "Iudex Gundyr"
location = "Cemetery of Ash"
required = true
is_dlc = false
flag_id = 14000800
order = 1
aliases = ["Gundyr", "Tutorial Boss"]

[[bosses]]
id = "vordt"
name = "Vordt of the Boreal Valley"
location = "High Wall of Lothric"
required = true
is_dlc = false
flag_id = 13000800
order = 2
aliases = ["Vordt", "Ice Dog"]

[[bosses]]
id = "curse_rotted_greatwood"
name = "Curse-Rotted Greatwood"
location = "Undead Settlement"
required = false
is_dlc = false
flag_id = 13100800
order = 3
aliases = ["Greatwood", "Tree", "Ballsack Tree"]

[[bosses]]
id = "crystal_sage"
name = "Crystal Sage"
location = "Road of Sacrifices"
required = true
is_dlc = false
flag_id = 13300850
order = 4
aliases = ["Sage", "Crystal"]

[[bosses]]
id = "deacons"
name = "Deacons of the Deep"
location = "Cathedral of the Deep"
required = true
is_dlc = false
flag_id = 13500800
order = 5
aliases = ["Deacons"]

[[bosses]]
id = "abyss_watchers"
name = "Abyss Watchers"
location = "Farron Keep"
required = true
is_dlc = false
flag_id = 13300800
order = 6
aliases = ["Watchers", "Abyss"]

[[bosses]]
id = "high_lord_wolnir"
name = "High Lord Wolnir"
location = "Catacombs of Carthus"
required = true
is_dlc = false
flag_id = 13800800
order = 7
aliases = ["Wolnir", "Skeleton"]

[[bosses]]
id = "old_demon_king"
name = "Old Demon King"
location = "Smouldering Lake"
required = false
is_dlc = false
flag_id = 13800830
order = 8
aliases = ["ODK", "Demon King"]

[[bosses]]
id = "pontiff"
name = "Pontiff Sulyvahn"
location = "Irithyll of the Boreal Valley"
required = true
is_dlc = false
flag_id = 13700850
order = 9
aliases = ["Pontiff", "Sully", "Sulyvahn"]

[[bosses]]
id = "yhorm"
name = "Yhorm the Giant"
location = "Profaned Capital"
required = true
is_dlc = false
flag_id = 13900800
order = 10
aliases = ["Yhorm"]

[[bosses]]
id = "aldrich"
name = "Aldrich, Devourer of Gods"
location = "Anor Londo"
required = true
is_dlc = false
flag_id = 13700800
order = 11
aliases = ["Aldrich", "Gwyndolin Eater"]

[[bosses]]
id = "dancer"
name = "Dancer of the Boreal Valley"
location = "High Wall of Lothric"
required = true
is_dlc = false
flag_id = 13000890
order = 12
aliases = ["Dancer"]

[[bosses]]
id = "oceiros"
name = "Oceiros, the Consumed King"
location = "Consumed King's Garden"
required = false
is_dlc = false
flag_id = 13000830
order = 13
aliases = ["Oceiros", "Baby Killer"]

[[bosses]]
id = "champion_gundyr"
name = "Champion Gundyr"
location = "Untended Graves"
required = false
is_dlc = false
flag_id = 14000830
order = 14
aliases = ["Champ Gundyr", "Champion"]

[[bosses]]
id = "dragonslayer_armour"
name = "Dragonslayer Armour"
location = "Lothric Castle"
required = true
is_dlc = false
flag_id = 13010800
order = 15
aliases = ["DSA", "Armour", "Armor"]

[[bosses]]
id = "twin_princes"
name = "Twin Princes"
location = "Grand Archives"
required = true
is_dlc = false
flag_id = 13410830
order = 16
aliases = ["Princes", "Lorian", "Lothric"]

[[bosses]]
id = "ancient_wyvern"
name = "Ancient Wyvern"
location = "Archdragon Peak"
required = false
is_dlc = false
flag_id = 13200800
order = 17
aliases = ["Wyvern", "Plunge Boss"]

[[bosses]]
id = "nameless_king"
name = "Nameless King"
location = "Archdragon Peak"
required = false
is_dlc = false
flag_id = 13200850
order = 18
aliases = ["NK", "Nameless"]

[[bosses]]
id = "soul_of_cinder"
name = "Soul of Cinder"
location = "Kiln of the First Flame"
required = true
is_dlc = false
flag_id = 14100800
order = 19
aliases = ["SoC", "Cinder", "Final Boss"]

# =============================================================================
# ASHES OF ARIANDEL DLC
# =============================================================================

[[bosses]]
id = "champion_gravetender"
name = "Champion's Gravetender & Gravetender Greatwolf"
location = "Painted World of Ariandel"
required = true
is_dlc = true
dlc_name = "Ashes of Ariandel"
flag_id = 14500860
order = 20
aliases = ["Gravetender", "Wolf"]

[[bosses]]
id = "sister_friede"
name = "Sister Friede"
location = "Painted World of Ariandel"
required = true
is_dlc = true
dlc_name = "Ashes of Ariandel"
flag_id = 14500800
order = 21
aliases = ["Friede", "Blackflame Friede"]

# =============================================================================
# THE RINGED CITY DLC
# =============================================================================

[[bosses]]
id = "demon_prince"
name = "Demon in Pain & Demon from Below / Demon Prince"
location = "The Dreg Heap"
required = true
is_dlc = true
dlc_name = "The Ringed City"
flag_id = 15000800
order = 22
aliases = ["Demon Prince", "Demons"]

[[bosses]]
id = "halflight"
name = "Halflight, Spear of the Church"
location = "The Ringed City"
required = true
is_dlc = true
dlc_name = "The Ringed City"
flag_id = 15100800
order = 23
aliases = ["Halflight", "Spear"]

[[bosses]]
id = "darkeater_midir"
name = "Darkeater Midir"
location = "The Ringed City"
required = true
is_dlc = true
dlc_name = "The Ringed City"
flag_id = 15100850
order = 24
aliases = ["Midir"]

[[bosses]]
id = "slave_knight_gael"
name = "Slave Knight Gael"
location = "The Ringed City"
required = true
is_dlc = true
dlc_name = "The Ringed City"
flag_id = 15110800
order = 25
aliases = ["Gael", "Uncle Gael"]

# =============================================================================
# BONFIRES - All 77 bonfires from SoulSplitter
# =============================================================================

# Cemetery of Ash
[[bonfires]]
id = "firelink_shrine"
name = "Firelink Shrine"
location = "Cemetery of Ash"
flag_id = 14000000

[[bonfires]]
id = "cemetery_of_ash"
name = "Cemetery of Ash"
location = "Cemetery of Ash"
flag_id = 14000001

[[bonfires]]
id = "iudex_gundyr_bonfire"
name = "Iudex Gundyr"
location = "Cemetery of Ash"
flag_id = 14000002

[[bonfires]]
id = "untended_graves"
name = "Untended Graves"
location = "Cemetery of Ash"
flag_id = 14000003

[[bonfires]]
id = "champion_gundyr_bonfire"
name = "Champion Gundyr"
location = "Cemetery of Ash"
flag_id = 14000004

# High Wall of Lothric
[[bonfires]]
id = "high_wall"
name = "High Wall of Lothric"
location = "High Wall of Lothric"
flag_id = 13000009

[[bonfires]]
id = "tower_on_the_wall"
name = "Tower on the Wall"
location = "High Wall of Lothric"
flag_id = 13000005

[[bonfires]]
id = "vordt_bonfire"
name = "Vordt of the Boreal Valley"
location = "High Wall of Lothric"
flag_id = 13000002

[[bonfires]]
id = "dancer_bonfire"
name = "Dancer of the Boreal Valley"
location = "High Wall of Lothric"
flag_id = 13000004

[[bonfires]]
id = "oceiros_bonfire"
name = "Oceiros, the Consumed King"
location = "High Wall of Lothric"
flag_id = 13000001

# Undead Settlement
[[bonfires]]
id = "foot_of_high_wall"
name = "Foot of the High Wall"
location = "Undead Settlement"
flag_id = 13100004

[[bonfires]]
id = "undead_settlement"
name = "Undead Settlement"
location = "Undead Settlement"
flag_id = 13100000

[[bonfires]]
id = "cliff_underside"
name = "Cliff Underside"
location = "Undead Settlement"
flag_id = 13100002

[[bonfires]]
id = "dilapidated_bridge"
name = "Dilapidated Bridge"
location = "Undead Settlement"
flag_id = 13100003

[[bonfires]]
id = "pit_of_hollows"
name = "Pit of Hollows"
location = "Undead Settlement"
flag_id = 13100001

# Road of Sacrifices
[[bonfires]]
id = "road_of_sacrifices"
name = "Road of Sacrifices"
location = "Road of Sacrifices"
flag_id = 13300006

[[bonfires]]
id = "halfway_fortress"
name = "Halfway Fortress"
location = "Road of Sacrifices"
flag_id = 13300000

[[bonfires]]
id = "crucifixion_woods"
name = "Crucifixion Woods"
location = "Road of Sacrifices"
flag_id = 13300007

[[bonfires]]
id = "crystal_sage_bonfire"
name = "Crystal Sage"
location = "Road of Sacrifices"
flag_id = 13300002

[[bonfires]]
id = "farron_keep"
name = "Farron Keep"
location = "Road of Sacrifices"
flag_id = 13300003

[[bonfires]]
id = "keep_ruins"
name = "Keep Ruins"
location = "Road of Sacrifices"
flag_id = 13300004

[[bonfires]]
id = "farron_keep_perimeter"
name = "Farron Keep Perimeter"
location = "Road of Sacrifices"
flag_id = 13300008

[[bonfires]]
id = "old_wolf"
name = "Old Wolf of Farron"
location = "Road of Sacrifices"
flag_id = 13300005

[[bonfires]]
id = "abyss_watchers_bonfire"
name = "Abyss Watchers"
location = "Road of Sacrifices"
flag_id = 13300001

# Cathedral of the Deep
[[bonfires]]
id = "cathedral_of_deep"
name = "Cathedral of the Deep"
location = "Cathedral of the Deep"
flag_id = 13500003

[[bonfires]]
id = "cleansing_chapel"
name = "Cleansing Chapel"
location = "Cathedral of the Deep"
flag_id = 13500000

[[bonfires]]
id = "rosarias_bed"
name = "Rosaria's Bed Chamber"
location = "Cathedral of the Deep"
flag_id = 13500002

[[bonfires]]
id = "deacons_bonfire"
name = "Deacons of the Deep"
location = "Cathedral of the Deep"
flag_id = 13500001

# Catacombs of Carthus
[[bonfires]]
id = "catacombs_carthus"
name = "Catacombs of Carthus"
location = "Catacombs of Carthus"
flag_id = 13800006

[[bonfires]]
id = "wolnir_bonfire"
name = "High Lord Wolnir"
location = "Catacombs of Carthus"
flag_id = 13800000

[[bonfires]]
id = "abandoned_tomb"
name = "Abandoned Tomb"
location = "Catacombs of Carthus"
flag_id = 13800001

[[bonfires]]
id = "old_kings_antechamber"
name = "Old King's Antechamber"
location = "Catacombs of Carthus"
flag_id = 13800002

[[bonfires]]
id = "demon_ruins_bonfire"
name = "Demon Ruins"
location = "Catacombs of Carthus"
flag_id = 13800003

[[bonfires]]
id = "old_demon_king_bonfire"
name = "Old Demon King"
location = "Catacombs of Carthus"
flag_id = 13800004

# Irithyll of the Boreal Valley
[[bonfires]]
id = "irithyll"
name = "Irithyll of the Boreal Valley"
location = "Irithyll of the Boreal Valley"
flag_id = 13700007

[[bonfires]]
id = "central_irithyll"
name = "Central Irithyll"
location = "Irithyll of the Boreal Valley"
flag_id = 13700004

[[bonfires]]
id = "church_of_yorshka"
name = "Church of Yorshka"
location = "Irithyll of the Boreal Valley"
flag_id = 13700000

[[bonfires]]
id = "distant_manor"
name = "Distant Manor"
location = "Irithyll of the Boreal Valley"
flag_id = 13700005

[[bonfires]]
id = "pontiff_bonfire"
name = "Pontiff Sulyvahn"
location = "Irithyll of the Boreal Valley"
flag_id = 13700001

[[bonfires]]
id = "water_reserve"
name = "Water Reserve"
location = "Irithyll of the Boreal Valley"
flag_id = 13700006

[[bonfires]]
id = "anor_londo"
name = "Anor Londo"
location = "Irithyll of the Boreal Valley"
flag_id = 13700003

[[bonfires]]
id = "prison_tower"
name = "Prison Tower"
location = "Irithyll of the Boreal Valley"
flag_id = 13700008

[[bonfires]]
id = "aldrich_bonfire"
name = "Aldrich, Devourer of Gods"
location = "Irithyll of the Boreal Valley"
flag_id = 13700002

# Irithyll Dungeon
[[bonfires]]
id = "irithyll_dungeon"
name = "Irithyll Dungeon"
location = "Irithyll Dungeon"
flag_id = 13900000

[[bonfires]]
id = "profaned_capital"
name = "Profaned Capital"
location = "Irithyll Dungeon"
flag_id = 13900002

[[bonfires]]
id = "yhorm_bonfire"
name = "Yhorm the Giant"
location = "Irithyll Dungeon"
flag_id = 13900001

# Lothric Castle
[[bonfires]]
id = "lothric_castle"
name = "Lothric Castle"
location = "Lothric Castle"
flag_id = 13010000

[[bonfires]]
id = "dragon_barracks"
name = "Dragon Barracks"
location = "Lothric Castle"
flag_id = 13010002

[[bonfires]]
id = "dragonslayer_armour_bonfire"
name = "Dragonslayer Armour"
location = "Lothric Castle"
flag_id = 13010001

[[bonfires]]
id = "grand_archives"
name = "Grand Archives"
location = "Lothric Castle"
flag_id = 13410001

[[bonfires]]
id = "twin_princes_bonfire"
name = "Twin Princes"
location = "Lothric Castle"
flag_id = 13410000

# Archdragon Peak
[[bonfires]]
id = "archdragon_peak"
name = "Archdragon Peak"
location = "Archdragon Peak"
flag_id = 13200000

[[bonfires]]
id = "dragon_kin_mausoleum"
name = "Dragon-Kin Mausoleum"
location = "Archdragon Peak"
flag_id = 13200003

[[bonfires]]
id = "great_belfry"
name = "Great Belfry"
location = "Archdragon Peak"
flag_id = 13200002

[[bonfires]]
id = "nameless_king_bonfire"
name = "Nameless King"
location = "Archdragon Peak"
flag_id = 13200001

# Kiln of the First Flame
[[bonfires]]
id = "flameless_shrine"
name = "Flameless Shrine"
location = "Kiln of the First Flame"
flag_id = 14100000

[[bonfires]]
id = "kiln"
name = "Kiln of the First Flame"
location = "Kiln of the First Flame"
flag_id = 14100001

# The Painted World of Ariandel (DLC1)
[[bonfires]]
id = "snowfield"
name = "Snowfield"
location = "The Painted World of Ariandel"
flag_id = 14500001

[[bonfires]]
id = "rope_bridge_cave"
name = "Rope Bridge Cave"
location = "The Painted World of Ariandel"
flag_id = 14500002

[[bonfires]]
id = "corvian_settlement"
name = "Corvian Settlement"
location = "The Painted World of Ariandel"
flag_id = 14500003

[[bonfires]]
id = "snowy_mountain_pass"
name = "Snowy Mountain Pass"
location = "The Painted World of Ariandel"
flag_id = 14500004

[[bonfires]]
id = "ariandel_chapel"
name = "Ariandel Chapel"
location = "The Painted World of Ariandel"
flag_id = 14500005

[[bonfires]]
id = "friede_bonfire"
name = "Sister Friede"
location = "The Painted World of Ariandel"
flag_id = 14500000

[[bonfires]]
id = "depths_painting"
name = "Depths of the Painting"
location = "The Painted World of Ariandel"
flag_id = 14500007

[[bonfires]]
id = "gravetender_bonfire"
name = "Champion's Gravetender"
location = "The Painted World of Ariandel"
flag_id = 14500006

# The Dreg Heap (DLC2)
[[bonfires]]
id = "dreg_heap"
name = "The Dreg Heap"
location = "The Dreg Heap"
flag_id = 15000001

[[bonfires]]
id = "earthen_peak_ruins"
name = "Earthen Peak Ruins"
location = "The Dreg Heap"
flag_id = 15000002

[[bonfires]]
id = "within_earthen_peak"
name = "Within the Earthen Peak Ruins"
location = "The Dreg Heap"
flag_id = 15000003

[[bonfires]]
id = "demon_prince_bonfire"
name = "The Demon Prince"
location = "The Dreg Heap"
flag_id = 15000000

# The Ringed City (DLC2)
[[bonfires]]
id = "mausoleum_lookout"
name = "Mausoleum Lookout"
location = "The Ringed City"
flag_id = 15100002

[[bonfires]]
id = "ringed_inner_wall"
name = "Ringed Inner Wall"
location = "The Ringed City"
flag_id = 15100003

[[bonfires]]
id = "ringed_city_streets"
name = "Ringed City Streets"
location = "The Ringed City"
flag_id = 15100004

[[bonfires]]
id = "shared_grave"
name = "Shared Grave"
location = "The Ringed City"
flag_id = 15100005

[[bonfires]]
id = "church_filianore"
name = "Church of Filianore"
location = "The Ringed City"
flag_id = 15100000

[[bonfires]]
id = "midir_bonfire"
name = "Darkeater Midir"
location = "The Ringed City"
flag_id = 15100001

[[bonfires]]
id = "filianores_rest"
name = "Filianore's Rest"
location = "The Ringed City"
flag_id = 15110001

[[bonfires]]
id = "gael_bonfire"
name = "Slave Knight Gael"
location = "The Ringed City"
flag_id = 15110000

# =============================================================================
# PRESETS
# =============================================================================

[[presets]]
id = "all-bosses"
name = "All Bosses"
description = "All main game bosses (19 bosses)"
boss_ids = [
    "iudex_gundyr", "vordt", "curse_rotted_greatwood", "crystal_sage", "deacons",
    "abyss_watchers", "high_lord_wolnir", "old_demon_king", "pontiff", "yhorm",
    "aldrich", "dancer", "oceiros", "champion_gundyr", "dragonslayer_armour",
    "twin_princes", "ancient_wyvern", "nameless_king", "soul_of_cinder"
]

[[presets]]
id = "all-bosses-dlc"
name = "All Bosses + DLC"
description = "All bosses including DLC (25 bosses)"
boss_ids = [
    "iudex_gundyr", "vordt", "curse_rotted_greatwood", "crystal_sage", "deacons",
    "abyss_watchers", "high_lord_wolnir", "old_demon_king", "pontiff", "yhorm",
    "aldrich", "dancer", "oceiros", "champion_gundyr", "dragonslayer_armour",
    "twin_princes", "ancient_wyvern", "nameless_king", "soul_of_cinder",
    "champion_gravetender", "sister_friede", "demon_prince", "halflight",
    "darkeater_midir", "slave_knight_gael"
]

[[presets]]
id = "any-percent"
name = "Any%"
description = "Required bosses only (13 bosses)"
boss_ids = [
    "iudex_gundyr", "vordt", "crystal_sage", "deacons", "abyss_watchers",
    "high_lord_wolnir", "pontiff", "yhorm", "aldrich", "dancer",
    "dragonslayer_armour", "twin_princes", "soul_of_cinder"
]

# =============================================================================
# KNOWN FLAGS - Covenants, NPCs, Doors, Items, Events
# =============================================================================

# Covenants
[[known_flags]]
id = "covenant_way_of_blue"
name = "Covenant Joined: Way of Blue"
category = "covenants"
flag_id = 13000100

[[known_flags]]
id = "covenant_warrior_sunlight"
name = "Covenant Joined: Warriors of Sunlight"
category = "covenants"
flag_id = 13000101

[[known_flags]]
id = "covenant_mound_makers"
name = "Covenant Joined: Mound-Makers"
category = "covenants"
flag_id = 13000102

[[known_flags]]
id = "covenant_watchdog_farron"
name = "Covenant Joined: Watchdogs of Farron"
category = "covenants"
flag_id = 13000103

[[known_flags]]
id = "covenant_aldrich_faithful"
name = "Covenant Joined: Aldrich Faithful"
category = "covenants"
flag_id = 13000104

[[known_flags]]
id = "covenant_rosaria"
name = "Covenant Joined: Rosaria's Fingers"
category = "covenants"
flag_id = 13000105

[[known_flags]]
id = "covenant_blade_darkmoon"
name = "Covenant Joined: Blade of the Darkmoon"
category = "covenants"
flag_id = 13000106

[[known_flags]]
id = "covenant_spear_church"
name = "Covenant Joined: Spears of the Church"
category = "covenants"
flag_id = 15100020

# Boss Arenas / Events
[[known_flags]]
id = "arena_vordt"
name = "Boss Arena: Vordt of the Boreal Valley"
category = "boss_events"
flag_id = 13000850

[[known_flags]]
id = "arena_dancer"
name = "Boss Arena: Dancer of the Boreal Valley"
category = "boss_events"
flag_id = 13000892

[[known_flags]]
id = "arena_abyss_watchers"
name = "Boss Arena: Abyss Watchers"
category = "boss_events"
flag_id = 13300852

[[known_flags]]
id = "arena_pontiff"
name = "Boss Arena: Pontiff Sulyvahn"
category = "boss_events"
flag_id = 13700852

[[known_flags]]
id = "arena_aldrich"
name = "Boss Arena: Aldrich"
category = "boss_events"
flag_id = 13700802

[[known_flags]]
id = "arena_twin_princes"
name = "Boss Arena: Twin Princes"
category = "boss_events"
flag_id = 13410832

[[known_flags]]
id = "arena_soul_cinder"
name = "Boss Arena: Soul of Cinder"
category = "boss_events"
flag_id = 14100802

[[known_flags]]
id = "arena_friede"
name = "Boss Arena: Sister Friede"
category = "boss_events"
flag_id = 14500802

[[known_flags]]
id = "arena_demon_prince"
name = "Boss Arena: Demon Prince"
category = "boss_events"
flag_id = 15000802

[[known_flags]]
id = "arena_gael"
name = "Boss Arena: Slave Knight Gael"
category = "boss_events"
flag_id = 15110802

[[known_flags]]
id = "arena_midir"
name = "Boss Arena: Darkeater Midir"
category = "boss_events"
flag_id = 15100852

# Key Items
[[known_flags]]
id = "item_small_lothric_banner"
name = "Small Lothric Banner"
category = "key_items"
flag_id = 50006070

[[known_flags]]
id = "item_basin_vows"
name = "Basin of Vows"
category = "key_items"
flag_id = 50006071

[[known_flags]]
id = "item_grave_key"
name = "Grave Key"
category = "key_items"
flag_id = 50006072

[[known_flags]]
id = "item_morticians_ashes"
name = "Mortician's Ashes"
category = "key_items"
flag_id = 50006073

[[known_flags]]
id = "item_cell_key"
name = "Cell Key"
category = "key_items"
flag_id = 50006074

[[known_flags]]
id = "item_tower_key"
name = "Tower Key"
category = "key_items"
flag_id = 50006075

[[known_flags]]
id = "item_jailbreakers_key"
name = "Jailbreaker's Key"
category = "key_items"
flag_id = 50006076

[[known_flags]]
id = "item_jailers_key_ring"
name = "Jailer's Key Ring"
category = "key_items"
flag_id = 50006077

[[known_flags]]
id = "item_prisoner_chief_ashes"
name = "Prisoner Chief's Ashes"
category = "key_items"
flag_id = 50006078

[[known_flags]]
id = "item_small_doll"
name = "Small Doll"
category = "key_items"
flag_id = 50006079

[[known_flags]]
id = "item_cinders_aldrich"
name = "Cinders of a Lord: Aldrich"
category = "cinders"
flag_id = 50006080

[[known_flags]]
id = "item_cinders_yhorm"
name = "Cinders of a Lord: Yhorm"
category = "cinders"
flag_id = 50006081

[[known_flags]]
id = "item_cinders_abyss_watchers"
name = "Cinders of a Lord: Abyss Watchers"
category = "cinders"
flag_id = 50006082

[[known_flags]]
id = "item_cinders_lothric"
name = "Cinders of a Lord: Lothric"
category = "cinders"
flag_id = 50006083

[[known_flags]]
id = "item_coiled_sword"
name = "Coiled Sword"
category = "key_items"
flag_id = 50006090

# Doors and Shortcuts
[[known_flags]]
id = "door_high_wall_shortcut"
name = "High Wall: Shortcut Door Opened"
category = "doors"
flag_id = 13000500

[[known_flags]]
id = "door_undead_settlement_shortcut"
name = "Undead Settlement: Elevator Shortcut"
category = "doors"
flag_id = 13100500

[[known_flags]]
id = "door_road_sacrifices_shortcut"
name = "Road of Sacrifices: Shortcut"
category = "doors"
flag_id = 13300500

[[known_flags]]
id = "door_cathedral_rosaria"
name = "Cathedral: Rosaria's Bed Chamber"
category = "doors"
flag_id = 13500500

[[known_flags]]
id = "door_irithyll_water_reserve"
name = "Irithyll: Water Reserve Ladder"
category = "doors"
flag_id = 13700500

[[known_flags]]
id = "door_irithyll_dungeon_shortcut"
name = "Irithyll Dungeon: Shortcut"
category = "doors"
flag_id = 13900500

[[known_flags]]
id = "door_grand_archives_shortcut"
name = "Grand Archives: Shortcut Opened"
category = "doors"
flag_id = 13410500

[[known_flags]]
id = "door_archdragon_peak_gate"
name = "Archdragon Peak: Gate Opened"
category = "doors"
flag_id = 13200500

# Estus Flask
[[known_flags]]
id = "estus_shard_1"
name = "Estus Shard 1"
category = "estus"
flag_id = 50006100

[[known_flags]]
id = "estus_shard_2"
name = "Estus Shard 2"
category = "estus"
flag_id = 50006101

[[known_flags]]
id = "estus_shard_3"
name = "Estus Shard 3"
category = "estus"
flag_id = 50006102

[[known_flags]]
id = "estus_shard_4"
name = "Estus Shard 4"
category = "estus"
flag_id = 50006103

[[known_flags]]
id = "estus_shard_5"
name = "Estus Shard 5"
category = "estus"
flag_id = 50006104

[[known_flags]]
id = "undead_bone_shard_1"
name = "Undead Bone Shard 1"
category = "estus"
flag_id = 50006110

[[known_flags]]
id = "undead_bone_shard_2"
name = "Undead Bone Shard 2"
category = "estus"
flag_id = 50006111

[[known_flags]]
id = "undead_bone_shard_3"
name = "Undead Bone Shard 3"
category = "estus"
flag_id = 50006112

[[known_flags]]
id = "undead_bone_shard_4"
name = "Undead Bone Shard 4"
category = "estus"
flag_id = 50006113

[[known_flags]]
id = "undead_bone_shard_5"
name = "Undead Bone Shard 5"
category = "estus"
flag_id = 50006114

# NPC Events
[[known_flags]]
id = "npc_greirat_cell"
name = "NPC: Greirat Freed from Cell"
category = "npc"
flag_id = 74000100

[[known_flags]]
id = "npc_greirat_firelink"
name = "NPC: Greirat at Firelink"
category = "npc"
flag_id = 74000101

[[known_flags]]
id = "npc_greirat_pillage_1"
name = "NPC: Greirat First Pillaging"
category = "npc"
flag_id = 74000102

[[known_flags]]
id = "npc_greirat_pillage_2"
name = "NPC: Greirat Second Pillaging"
category = "npc"
flag_id = 74000103

[[known_flags]]
id = "npc_greirat_dead"
name = "NPC: Greirat Dead"
category = "npc"
flag_id = 74000199

[[known_flags]]
id = "npc_siegward_well"
name = "NPC: Siegward in the Well"
category = "npc"
flag_id = 74000200

[[known_flags]]
id = "npc_siegward_kitchen"
name = "NPC: Siegward in Kitchen"
category = "npc"
flag_id = 74000201

[[known_flags]]
id = "npc_siegward_cell"
name = "NPC: Siegward in Irithyll Dungeon Cell"
category = "npc"
flag_id = 74000202

[[known_flags]]
id = "npc_siegward_yhorm"
name = "NPC: Siegward at Yhorm Fight"
category = "npc"
flag_id = 74000203

[[known_flags]]
id = "npc_yoel_firelink"
name = "NPC: Yoel at Firelink"
category = "npc"
flag_id = 74000300

[[known_flags]]
id = "npc_yoel_dead"
name = "NPC: Yoel Dead"
category = "npc"
flag_id = 74000399

[[known_flags]]
id = "npc_yuria_firelink"
name = "NPC: Yuria at Firelink"
category = "npc"
flag_id = 74000400

[[known_flags]]
id = "npc_yuria_hostile"
name = "NPC: Yuria Hostile"
category = "npc"
flag_id = 74000498

[[known_flags]]
id = "npc_yuria_dead"
name = "NPC: Yuria Dead"
category = "npc"
flag_id = 74000499

[[known_flags]]
id = "npc_anri_road_sacrifices"
name = "NPC: Anri at Road of Sacrifices"
category = "npc"
flag_id = 74000500

[[known_flags]]
id = "npc_anri_firelink"
name = "NPC: Anri at Firelink"
category = "npc"
flag_id = 74000501

[[known_flags]]
id = "npc_anri_church_yorshka"
name = "NPC: Anri at Church of Yorshka"
category = "npc"
flag_id = 74000502

[[known_flags]]
id = "npc_anri_dead"
name = "NPC: Anri Dead"
category = "npc"
flag_id = 74000599

[[known_flags]]
id = "npc_orbeck_firelink"
name = "NPC: Orbeck at Firelink"
category = "npc"
flag_id = 74000600

[[known_flags]]
id = "npc_orbeck_dead"
name = "NPC: Orbeck Dead"
category = "npc"
flag_id = 74000699

[[known_flags]]
id = "npc_karla_cell"
name = "NPC: Karla Freed from Cell"
category = "npc"
flag_id = 74000700

[[known_flags]]
id = "npc_karla_firelink"
name = "NPC: Karla at Firelink"
category = "npc"
flag_id = 74000701

[[known_flags]]
id = "npc_cornyx_firelink"
name = "NPC: Cornyx at Firelink"
category = "npc"
flag_id = 74000800

[[known_flags]]
id = "npc_irina_firelink"
name = "NPC: Irina at Firelink"
category = "npc"
flag_id = 74000900

[[known_flags]]
id = "npc_eygon_undead_settlement"
name = "NPC: Eygon at Undead Settlement"
category = "npc"
flag_id = 74001000

[[known_flags]]
id = "npc_eygon_firelink"
name = "NPC: Eygon at Firelink"
category = "npc"
flag_id = 74001001

[[known_flags]]
id = "npc_patches_cathedral"
name = "NPC: Patches at Cathedral"
category = "npc"
flag_id = 74001100

[[known_flags]]
id = "npc_patches_firelink"
name = "NPC: Patches at Firelink"
category = "npc"
flag_id = 74001101

[[known_flags]]
id = "npc_leonhard_firelink"
name = "NPC: Leonhard at Firelink"
category = "npc"
flag_id = 74001200

[[known_flags]]
id = "npc_hawkwood_firelink"
name = "NPC: Hawkwood at Firelink"
category = "npc"
flag_id = 74001300

[[known_flags]]
id = "npc_hawkwood_duel"
name = "NPC: Hawkwood Duel Completed"
category = "npc"
flag_id = 74001301

[[known_flags]]
id = "npc_sirris_firelink"
name = "NPC: Sirris at Firelink"
category = "npc"
flag_id = 74001400

[[known_flags]]
id = "npc_sirris_questline_complete"
name = "NPC: Sirris Questline Complete"
category = "npc"
flag_id = 74001401

# Endings
[[known_flags]]
id = "ending_link_fire"
name = "Ending: Link the First Flame"
category = "endings"
flag_id = 14100850

[[known_flags]]
id = "ending_usurpation"
name = "Ending: Usurpation of Fire"
category = "endings"
flag_id = 14100851

[[known_flags]]
id = "ending_end_of_fire"
name = "Ending: End of Fire"
category = "endings"
flag_id = 14100852
