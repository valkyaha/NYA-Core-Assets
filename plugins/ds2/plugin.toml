[plugin]
id = "ds2"
name = "Dark Souls II: Scholar of the First Sin"
short_name = "DS2"
version = "1.2.0"
author = "NYA Core"
description = "Dark Souls II autosplitter with full boss tracking"
update_url = "https://raw.githubusercontent.com/valkyaha/NYA-Core-Assets/main/plugins/ds2/plugin.toml"

# Save file location for practice mode backup/restore
save_location_windows = "%APPDATA%/DarkSoulsII"
save_location_linux = "~/.local/share/Steam/userdata"
save_type = "folder"

[process]
names = ["DarkSoulsII.exe"]

# =============================================================================
# RECOMMENDED TOOLS
# =============================================================================

[[tools]]
name = "DS2 Save Organizer"
description = "Manage and organize save files"
author = "Community"
version = "1.0.0"
download_url = "https://github.com/search?q=dark+souls+2+save+organizer"
category = "utility"
required = false

[[tools]]
name = "Cheat Engine (Practice Tool)"
description = "For practicing specific sections (use offline only)"
author = "Cheat Engine Team"
version = "Latest"
download_url = "https://www.cheatengine.org/"
category = "practice"
required = false

[[tools]]
name = "SilkySouls 2"
description = "Comprehensive practice tool with save states, stats editor, and debug features"
author = "borgCode"
version = "Latest"
download_url = "https://github.com/borgCode/SilkySouls2/releases"
category = "practice"
required = false

[autosplitter]
enabled = true
algorithm = "kill_counter"

# Kill counter algorithm configuration (DS2 style)
# Based on SoulSplitter by FrankvdStam
[autosplitter.kill_counter_config]
primary_pattern = "game_manager_imp"
# Pointer chain: GameManagerImp -> 0x70 -> 0x28 -> 0x20 -> 0x8 + offset
chain_offsets = [112, 40, 32, 8]  # 0x70, 0x28, 0x20, 0x8

# Memory patterns for finding game data structures
# Based on SoulSplitter by FrankvdStam
# https://github.com/FrankvdStam/SoulSplitter

[[autosplitter.patterns]]
name = "game_manager_imp"
pattern = "48 8B 35 ? ? ? ? 48 8B E9 48 85 F6"
rip_offset = 3
instruction_len = 7
pointer_offsets = [0]

[[autosplitter.patterns]]
name = "load_state"
pattern = "48 89 05 ? ? ? ? B0 01 48 83 C4 28"
rip_offset = 3
instruction_len = 7
pointer_offsets = []  # No dereference - raw address

# =============================================================================
# POINTER CHAINS - Derived pointers from base patterns
# =============================================================================

[autosplitter.pointers]
# Boss kill counters from GameManagerImp
boss_counters = { base = "game_manager_imp", offsets = [0, 0x70, 0x28, 0x20, 0x8] }

# Event flag manager from GameManagerImp
event_flag_manager = { base = "game_manager_imp", offsets = [0, 0x70, 0x20] }

# Player position from GameManagerImp
position = { base = "game_manager_imp", offsets = [0, 0xD0, 0x100] }

# Player attributes from GameManagerImp
attributes = { base = "game_manager_imp", offsets = [0, 0xD0, 0x490] }

# =============================================================================
# MEMORY LAYOUT - Offsets for reading values
# =============================================================================

[autosplitter.memory_layout]
# Loading check at LoadState + 0x11C == 1
loading_offset = 0x11C

# Position offsets from Position pointer
position_x = 0x88
position_y = 0x80
position_z = 0x84

# Soul level offset (i32)
soul_level_offset = 0xD0

# Attribute offsets from Attributes pointer (i16 values)
[autosplitter.memory_layout.attributes]
vigor = 0x0
endurance = 0x2
vitality = 0x4
attunement = 0x6
strength = 0x8
dexterity = 0xA
adaptability = 0xC
intelligence = 0xE
faith = 0x10

# Boss kill counter offsets from BossCounters pointer
# Each boss has a u32 kill count at these offsets
[autosplitter.memory_layout.boss_offsets]
last_giant = 0x0
pursuer = 0x4
dragonrider = 0x20
old_dragonslayer = 0x24
flexile_sentry = 0x28
ruin_sentinels = 0x2C
lost_sinner = 0x18
belfry_gargoyles = 0x30
covetous_demon = 0x58
mytha = 0x54
smelter_demon = 0x50
old_iron_king = 0x1C
scorpioness_najka = 0x3C
royal_rat_authority = 0x40
prowling_magus = 0x38
dukes_dear_freja = 0x14
royal_rat_vanguard = 0x34
skeleton_lords = 0x44
executioners_chariot = 0x48
vendrick = 0x74
darklurker = 0x70
dragonslayer_armour = 0x60
giant_lord = 0x68
guardian = 0x6C
looking_glass_knight = 0x5C
demon_of_song = 0x64
velstadt = 0x78
twin_dragonriders = 0x8
nashendra = 0xC
aldia = 0x10
# DLC bosses
elana = 0x80
sinh = 0x84
afflicted_graverobber = 0x88
fume_knight = 0x7C
sir_alonne = 0x8C
blue_smelter_demon = 0x90
aava = 0x94
burnt_ivory_king = 0x9C
lud_and_zallen = 0xA0

# =============================================================================
# LIVESPLIT-STYLE SCRIPT CONFIGURATION
# =============================================================================

[script]
version = "1.0"
name = "Dark Souls II Script"
description = "LiveSplit-style autosplitter script for Dark Souls II: Scholar of the First Sin"

[script.state.gameManagerImp]
type = "ptr"
pattern = "48 8b 35 ?? ?? ?? ?? 48 8b e9 48 85 f6"
pattern_offset = 3
pattern_length = 7

[script.state.inGame]
type = "bool"
base_watcher = "gameManagerImp"
offsets = [0x0]

[script.hooks]
start = "settings.autostart && current.inGame && !old.inGame"
reset = "settings.autoreset && !current.inGame && old.inGame"
split = "settings.splitOnDeath && current.playerHP == 0 && old.playerHP > 0"

[script.settings]
autostart = { default = true, label = "Auto-start timer", description = "Start timer when entering a new game" }
autoreset = { default = false, label = "Auto-reset on menu", description = "Reset timer when returning to main menu" }
splitOnDeath = { default = false, label = "Split on death", description = "Trigger split when player dies" }

# =============================================================================
# BOSSES
# =============================================================================

# Main Game Bosses
[[bosses]]
id = "last_giant"
name = "The Last Giant"
location = "Forest of Fallen Giants"
required = true
is_dlc = false
flag_id = 124
order = 1

[[bosses]]
id = "pursuer"
name = "The Pursuer"
location = "Forest of Fallen Giants"
required = true
is_dlc = false
flag_id = 112
order = 2

[[bosses]]
id = "dragonrider"
name = "Dragonrider"
location = "Heide's Tower of Flame"
required = true
is_dlc = false
flag_id = 76
order = 3

[[bosses]]
id = "old_dragonslayer"
name = "Old Dragonslayer"
location = "Cathedral of Blue"
required = false
is_dlc = false
flag_id = 80
order = 4

[[bosses]]
id = "flexile_sentry"
name = "Flexile Sentry"
location = "No-man's Wharf"
required = true
is_dlc = false
flag_id = 84
order = 5

[[bosses]]
id = "ruin_sentinels"
name = "Ruin Sentinels"
location = "Lost Bastille"
required = true
is_dlc = false
flag_id = 88
order = 6

[[bosses]]
id = "lost_sinner"
name = "The Lost Sinner"
location = "Sinner's Rise"
required = true
is_dlc = false
flag_id = 92
order = 7

[[bosses]]
id = "belfry_gargoyles"
name = "Belfry Gargoyles"
location = "Belfry Luna"
required = false
is_dlc = false
flag_id = 168
order = 8

[[bosses]]
id = "skeleton_lords"
name = "Skeleton Lords"
location = "Huntsman's Copse"
required = true
is_dlc = false
flag_id = 56
order = 9

[[bosses]]
id = "executioners_chariot"
name = "Executioner's Chariot"
location = "Undead Purgatory"
required = false
is_dlc = false
flag_id = 52
order = 10

[[bosses]]
id = "covetous_demon"
name = "Covetous Demon"
location = "Earthen Peak"
required = true
is_dlc = false
flag_id = 60
order = 11

[[bosses]]
id = "mytha"
name = "Mytha, the Baneful Queen"
location = "Earthen Peak"
required = true
is_dlc = false
flag_id = 64
order = 12

[[bosses]]
id = "smelter_demon"
name = "Smelter Demon"
location = "Iron Keep"
required = false
is_dlc = false
flag_id = 96
order = 13

[[bosses]]
id = "old_iron_king"
name = "Old Iron King"
location = "Iron Keep"
required = true
is_dlc = false
flag_id = 48
order = 14

[[bosses]]
id = "scorpioness_najka"
name = "Scorpioness Najka"
location = "Shaded Woods"
required = true
is_dlc = false
flag_id = 68
order = 15

[[bosses]]
id = "royal_rat_authority"
name = "Royal Rat Authority"
location = "Doors of Pharros"
required = false
is_dlc = false
flag_id = 108
order = 16

[[bosses]]
id = "prowling_magus"
name = "Prowling Magus"
location = "Brightstone Cove"
required = true
is_dlc = false
flag_id = 164
order = 17

[[bosses]]
id = "dukes_dear_freja"
name = "The Duke's Dear Freja"
location = "Brightstone Cove"
required = true
is_dlc = false
flag_id = 44
order = 18

[[bosses]]
id = "royal_rat_vanguard"
name = "Royal Rat Vanguard"
location = "Grave of Saints"
required = false
is_dlc = false
flag_id = 100
order = 19

[[bosses]]
id = "rotten"
name = "The Rotten"
location = "Black Gulch"
required = true
is_dlc = false
flag_id = 104
order = 20

[[bosses]]
id = "dragonriders"
name = "Twin Dragonriders"
location = "Drangleic Castle"
required = true
is_dlc = false
flag_id = 160
order = 21

[[bosses]]
id = "looking_glass_knight"
name = "Looking Glass Knight"
location = "King's Passage"
required = true
is_dlc = false
flag_id = 72
order = 22

[[bosses]]
id = "demon_of_song"
name = "Demon of Song"
location = "Shrine of Amana"
required = true
is_dlc = false
flag_id = 40
order = 23

[[bosses]]
id = "velstadt"
name = "Velstadt, the Royal Aegis"
location = "Undead Crypt"
required = true
is_dlc = false
flag_id = 140
order = 24

[[bosses]]
id = "vendrick"
name = "Vendrick"
location = "Undead Crypt"
required = false
is_dlc = false
flag_id = 152
order = 25

[[bosses]]
id = "guardian_dragon"
name = "Guardian Dragon"
location = "Aldia's Keep"
required = true
is_dlc = false
flag_id = 120
order = 26

[[bosses]]
id = "ancient_dragon"
name = "Ancient Dragon"
location = "Dragon Shrine"
required = false
is_dlc = false
flag_id = 148
order = 27

[[bosses]]
id = "giant_lord"
name = "Giant Lord"
location = "Memory of Jeigh"
required = true
is_dlc = false
flag_id = 128
order = 28

[[bosses]]
id = "throne_duo"
name = "Throne Watcher & Defender"
location = "Throne of Want"
required = true
is_dlc = false
flag_id = 136
order = 29

[[bosses]]
id = "nashandra"
name = "Nashandra"
location = "Throne of Want"
required = true
is_dlc = false
flag_id = 132
order = 30

[[bosses]]
id = "aldia"
name = "Aldia, Scholar of the First Sin"
location = "Throne of Want"
required = false
is_dlc = false
flag_id = 280
order = 31

[[bosses]]
id = "darklurker"
name = "Darklurker"
location = "Dark Chasm of Old"
required = false
is_dlc = false
flag_id = 156
order = 32

# Crown of the Sunken King DLC
[[bosses]]
id = "elana"
name = "Elana, the Squalid Queen"
location = "Dragon's Sanctum"
required = true
is_dlc = true
dlc_name = "Crown of the Sunken King"
flag_id = 200
order = 33

[[bosses]]
id = "sinh"
name = "Sinh, the Slumbering Dragon"
location = "Dragon's Sanctum"
required = true
is_dlc = true
dlc_name = "Crown of the Sunken King"
flag_id = 212
order = 34

[[bosses]]
id = "afflicted_graverobber"
name = "Afflicted Graverobber, Ancient Soldier Varg, Cerah the Old Explorer"
location = "Cave of the Dead"
required = true
is_dlc = true
dlc_name = "Crown of the Sunken King"
flag_id = 244
order = 35

# Crown of the Old Iron King DLC
[[bosses]]
id = "blue_smelter"
name = "Blue Smelter Demon"
location = "Iron Passage"
required = true
is_dlc = true
dlc_name = "Crown of the Old Iron King"
flag_id = 252
order = 36

[[bosses]]
id = "fume_knight"
name = "Fume Knight"
location = "Brume Tower"
required = true
is_dlc = true
dlc_name = "Crown of the Old Iron King"
flag_id = 204
order = 37

[[bosses]]
id = "sir_alonne"
name = "Sir Alonne"
location = "Memory of the Old Iron King"
required = true
is_dlc = true
dlc_name = "Crown of the Old Iron King"
flag_id = 248
order = 38

# Crown of the Ivory King DLC
[[bosses]]
id = "aava"
name = "Aava, the King's Pet"
location = "Frozen Eleum Loyce"
required = true
is_dlc = true
dlc_name = "Crown of the Ivory King"
flag_id = 208
order = 39

[[bosses]]
id = "burnt_ivory_king"
name = "Burnt Ivory King"
location = "Old Chaos"
required = true
is_dlc = true
dlc_name = "Crown of the Ivory King"
flag_id = 260
order = 40

[[bosses]]
id = "lud_zallen"
name = "Lud & Zallen, the King's Pets"
location = "Frigid Outskirts"
required = true
is_dlc = true
dlc_name = "Crown of the Ivory King"
flag_id = 264
order = 41

# =============================================================================
# BONFIRES
# =============================================================================

# Things Betwixt
[[bonfires]]
id = "fire_keepers_dwelling"
name = "Fire Keepers' Dwelling"
location = "Things Betwixt"
flag_id = 0
is_dlc = false

[[bonfires]]
id = "things_betwixt"
name = "The Far Fire"
location = "Things Betwixt"
flag_id = 0
is_dlc = false

# Majula
[[bonfires]]
id = "majula"
name = "Majula"
location = "Majula"
flag_id = 0
is_dlc = false

# Forest of Fallen Giants
[[bonfires]]
id = "crestfallens_retreat"
name = "Crestfallen's Retreat"
location = "Forest of Fallen Giants"
flag_id = 0
is_dlc = false

[[bonfires]]
id = "cardinal_tower"
name = "Cardinal Tower"
location = "Forest of Fallen Giants"
flag_id = 0
is_dlc = false

[[bonfires]]
id = "soldiers_rest"
name = "Soldiers' Rest"
location = "Forest of Fallen Giants"
flag_id = 0
is_dlc = false

[[bonfires]]
id = "the_place_unbeknownst"
name = "The Place Unbeknownst"
location = "Forest of Fallen Giants"
flag_id = 0
is_dlc = false

# Heide's Tower of Flame
[[bonfires]]
id = "heides_ruin"
name = "Heide's Ruin"
location = "Heide's Tower of Flame"
flag_id = 0
is_dlc = false

[[bonfires]]
id = "tower_of_flame"
name = "Tower of Flame"
location = "Heide's Tower of Flame"
flag_id = 0
is_dlc = false

# No-man's Wharf
[[bonfires]]
id = "unseen_path_to_heide"
name = "Unseen Path to Heide"
location = "No-man's Wharf"
flag_id = 0
is_dlc = false

# Lost Bastille
[[bonfires]]
id = "servants_quarters"
name = "Servants' Quarters"
location = "Lost Bastille"
flag_id = 0
is_dlc = false

[[bonfires]]
id = "mcduffs_workshop"
name = "McDuff's Workshop"
location = "Lost Bastille"
flag_id = 0
is_dlc = false

[[bonfires]]
id = "straid_cell"
name = "Straid's Cell"
location = "Lost Bastille"
flag_id = 0
is_dlc = false

[[bonfires]]
id = "tower_apart"
name = "Tower Apart"
location = "Lost Bastille"
flag_id = 0
is_dlc = false

[[bonfires]]
id = "sinners_rise"
name = "Sinner's Rise"
location = "Sinner's Rise"
flag_id = 0
is_dlc = false

[[bonfires]]
id = "saltfort"
name = "Saltfort"
location = "Sinner's Rise"
flag_id = 0
is_dlc = false

# Huntsman's Copse
[[bonfires]]
id = "undead_refuge"
name = "Undead Refuge"
location = "Huntsman's Copse"
flag_id = 0
is_dlc = false

[[bonfires]]
id = "bridge_approach"
name = "Bridge Approach"
location = "Huntsman's Copse"
flag_id = 0
is_dlc = false

[[bonfires]]
id = "undead_lockaway"
name = "Undead Lockaway"
location = "Huntsman's Copse"
flag_id = 0
is_dlc = false

# Earthen Peak
[[bonfires]]
id = "lower_earthen_peak"
name = "Lower Earthen Peak"
location = "Earthen Peak"
flag_id = 0
is_dlc = false

[[bonfires]]
id = "central_earthen_peak"
name = "Central Earthen Peak"
location = "Earthen Peak"
flag_id = 0
is_dlc = false

[[bonfires]]
id = "upper_earthen_peak"
name = "Upper Earthen Peak"
location = "Earthen Peak"
flag_id = 0
is_dlc = false

# Iron Keep
[[bonfires]]
id = "threshold_bridge"
name = "Threshold Bridge"
location = "Iron Keep"
flag_id = 0
is_dlc = false

[[bonfires]]
id = "ironhearth_hall"
name = "Ironhearth Hall"
location = "Iron Keep"
flag_id = 0
is_dlc = false

[[bonfires]]
id = "eygil_idol"
name = "Eygil's Idol"
location = "Iron Keep"
flag_id = 0
is_dlc = false

# Shaded Woods
[[bonfires]]
id = "ruined_fork_road"
name = "Ruined Fork Road"
location = "Shaded Woods"
flag_id = 0
is_dlc = false

[[bonfires]]
id = "shaded_ruins"
name = "Shaded Ruins"
location = "Shaded Woods"
flag_id = 0
is_dlc = false

# Doors of Pharros
[[bonfires]]
id = "gyrm_greatshield"
name = "Gyrm's Respite"
location = "Doors of Pharros"
flag_id = 0
is_dlc = false

# Brightstone Cove Tseldora
[[bonfires]]
id = "royal_army_campsite"
name = "Royal Army Campsite"
location = "Brightstone Cove Tseldora"
flag_id = 0
is_dlc = false

[[bonfires]]
id = "chapel_threshold"
name = "Chapel Threshold"
location = "Brightstone Cove Tseldora"
flag_id = 0
is_dlc = false

[[bonfires]]
id = "lower_brightstone_cove"
name = "Lower Brightstone Cove"
location = "Brightstone Cove Tseldora"
flag_id = 0
is_dlc = false

# The Pit / Black Gulch
[[bonfires]]
id = "grave_entrance"
name = "Grave Entrance"
location = "Grave of Saints"
flag_id = 0
is_dlc = false

[[bonfires]]
id = "upper_gutter"
name = "Upper Gutter"
location = "The Gutter"
flag_id = 0
is_dlc = false

[[bonfires]]
id = "central_gutter"
name = "Central Gutter"
location = "The Gutter"
flag_id = 0
is_dlc = false

[[bonfires]]
id = "black_gulch_mouth"
name = "Black Gulch Mouth"
location = "Black Gulch"
flag_id = 0
is_dlc = false

[[bonfires]]
id = "hidden_chamber"
name = "Hidden Chamber"
location = "Black Gulch"
flag_id = 0
is_dlc = false

# Drangleic Castle
[[bonfires]]
id = "kings_gate"
name = "King's Gate"
location = "Drangleic Castle"
flag_id = 0
is_dlc = false

[[bonfires]]
id = "central_castle"
name = "Central Castle Drangleic"
location = "Drangleic Castle"
flag_id = 0
is_dlc = false

[[bonfires]]
id = "forgotten_chamber"
name = "Forgotten Chamber"
location = "Drangleic Castle"
flag_id = 0
is_dlc = false

# Shrine of Amana
[[bonfires]]
id = "tower_of_prayer"
name = "Tower of Prayer"
location = "Shrine of Amana"
flag_id = 0
is_dlc = false

[[bonfires]]
id = "crumbled_ruins"
name = "Crumbled Ruins"
location = "Shrine of Amana"
flag_id = 0
is_dlc = false

[[bonfires]]
id = "rhoys_resting_place"
name = "Rhoy's Resting Place"
location = "Shrine of Amana"
flag_id = 0
is_dlc = false

[[bonfires]]
id = "rise_of_the_dead"
name = "Rise of the Dead"
location = "Shrine of Amana"
flag_id = 0
is_dlc = false

# Undead Crypt
[[bonfires]]
id = "undead_crypt_entrance"
name = "Undead Crypt Entrance"
location = "Undead Crypt"
flag_id = 0
is_dlc = false

[[bonfires]]
id = "undead_ditch"
name = "Undead Ditch"
location = "Undead Crypt"
flag_id = 0
is_dlc = false

# Aldia's Keep
[[bonfires]]
id = "foregarden"
name = "Foregarden"
location = "Aldia's Keep"
flag_id = 0
is_dlc = false

[[bonfires]]
id = "ritual_site"
name = "Ritual Site"
location = "Aldia's Keep"
flag_id = 0
is_dlc = false

# Dragon Aerie / Dragon Shrine
[[bonfires]]
id = "dragon_aerie"
name = "Dragon Aerie"
location = "Dragon Aerie"
flag_id = 0
is_dlc = false

[[bonfires]]
id = "shrine_entrance"
name = "Shrine Entrance"
location = "Dragon Shrine"
flag_id = 0
is_dlc = false

[[bonfires]]
id = "sanctum_walk"
name = "Sanctum Walk"
location = "Dragon Shrine"
flag_id = 0
is_dlc = false

# Memories
[[bonfires]]
id = "place_unbeknownst"
name = "The Place Unbeknownst"
location = "Memory of Jeigh"
flag_id = 0
is_dlc = false

# Throne of Want
[[bonfires]]
id = "throne_of_want"
name = "King's Gate"
location = "Throne of Want"
flag_id = 0
is_dlc = false

# DLC - Crown of the Sunken King
[[bonfires]]
id = "sanctum_walk_sunken"
name = "Sanctum Walk"
location = "Shulva, Sanctum City"
flag_id = 0
is_dlc = true

[[bonfires]]
id = "priestly_chamber"
name = "Priestly Chamber"
location = "Shulva, Sanctum City"
flag_id = 0
is_dlc = true

[[bonfires]]
id = "hidden_sanctum_chamber"
name = "Hidden Sanctum Chamber"
location = "Shulva, Sanctum City"
flag_id = 0
is_dlc = true

[[bonfires]]
id = "lair_of_the_imperfect"
name = "Lair of the Imperfect"
location = "Shulva, Sanctum City"
flag_id = 0
is_dlc = true

[[bonfires]]
id = "sanctum_interior"
name = "Sanctum Interior"
location = "Dragon's Sanctum"
flag_id = 0
is_dlc = true

[[bonfires]]
id = "sanctum_nadir"
name = "Sanctum Nadir"
location = "Dragon's Sanctum"
flag_id = 0
is_dlc = true

# DLC - Crown of the Old Iron King
[[bonfires]]
id = "throne_floor"
name = "Throne Floor"
location = "Brume Tower"
flag_id = 0
is_dlc = true

[[bonfires]]
id = "smelter_throne"
name = "Smelter Throne"
location = "Brume Tower"
flag_id = 0
is_dlc = true

[[bonfires]]
id = "iron_hallway_entrance"
name = "Iron Hallway Entrance"
location = "Brume Tower"
flag_id = 0
is_dlc = true

[[bonfires]]
id = "ironhearth_hall_brume"
name = "Ironhearth Hall"
location = "Brume Tower"
flag_id = 0
is_dlc = true

[[bonfires]]
id = "uppermost_floor"
name = "Uppermost Floor"
location = "Brume Tower"
flag_id = 0
is_dlc = true

[[bonfires]]
id = "foyers"
name = "Foyer"
location = "Brume Tower"
flag_id = 0
is_dlc = true

# DLC - Crown of the Ivory King
[[bonfires]]
id = "outer_wall"
name = "Outer Wall"
location = "Frozen Eleum Loyce"
flag_id = 0
is_dlc = true

[[bonfires]]
id = "abandoned_dwelling"
name = "Abandoned Dwelling"
location = "Frozen Eleum Loyce"
flag_id = 0
is_dlc = true

[[bonfires]]
id = "expulsion_chamber"
name = "Expulsion Chamber"
location = "Frozen Eleum Loyce"
flag_id = 0
is_dlc = true

[[bonfires]]
id = "inner_wall"
name = "Inner Wall"
location = "Frozen Eleum Loyce"
flag_id = 0
is_dlc = true

[[bonfires]]
id = "lower_garrison"
name = "Lower Garrison"
location = "Frozen Eleum Loyce"
flag_id = 0
is_dlc = true

[[bonfires]]
id = "grand_cathedral"
name = "Grand Cathedral"
location = "Frozen Eleum Loyce"
flag_id = 0
is_dlc = true

# =============================================================================
# KNOWN FLAGS - Key events, NPCs, items
# =============================================================================

# Bonfire Ascetics - All bonfires where ascetics can be used
# Things Betwixt
[[known_flags]]
id = "ascetic_fire_keepers_dwelling"
name = "Ascetic - Fire Keepers' Dwelling"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_the_far_fire"
name = "Ascetic - The Far Fire"
category = "bonfire_ascetics"
flag_id = 0

# Majula
[[known_flags]]
id = "ascetic_majula"
name = "Ascetic - Majula"
category = "bonfire_ascetics"
flag_id = 0

# Forest of Fallen Giants
[[known_flags]]
id = "ascetic_crestfallens_retreat"
name = "Ascetic - Crestfallen's Retreat"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_cardinal_tower"
name = "Ascetic - Cardinal Tower"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_soldiers_rest"
name = "Ascetic - Soldiers' Rest"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_place_unbeknownst"
name = "Ascetic - The Place Unbeknownst"
category = "bonfire_ascetics"
flag_id = 0

# Heide's Tower of Flame
[[known_flags]]
id = "ascetic_heides_ruin"
name = "Ascetic - Heide's Ruin"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_tower_of_flame"
name = "Ascetic - Tower of Flame"
category = "bonfire_ascetics"
flag_id = 0

# No-man's Wharf
[[known_flags]]
id = "ascetic_unseen_path_to_heide"
name = "Ascetic - Unseen Path to Heide"
category = "bonfire_ascetics"
flag_id = 0

# Lost Bastille
[[known_flags]]
id = "ascetic_servants_quarters"
name = "Ascetic - Servants' Quarters"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_mcduffs_workshop"
name = "Ascetic - McDuff's Workshop"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_straids_cell"
name = "Ascetic - Straid's Cell"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_tower_apart"
name = "Ascetic - Tower Apart"
category = "bonfire_ascetics"
flag_id = 0

# Sinner's Rise
[[known_flags]]
id = "ascetic_sinners_rise"
name = "Ascetic - Sinner's Rise"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_saltfort"
name = "Ascetic - Saltfort"
category = "bonfire_ascetics"
flag_id = 0

# Belfry Luna
[[known_flags]]
id = "ascetic_belfry_luna"
name = "Ascetic - Belfry Luna"
category = "bonfire_ascetics"
flag_id = 0

# Huntsman's Copse
[[known_flags]]
id = "ascetic_undead_refuge"
name = "Ascetic - Undead Refuge"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_bridge_approach"
name = "Ascetic - Bridge Approach"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_undead_lockaway"
name = "Ascetic - Undead Lockaway"
category = "bonfire_ascetics"
flag_id = 0

# Undead Purgatory
[[known_flags]]
id = "ascetic_undead_purgatory"
name = "Ascetic - Undead Purgatory"
category = "bonfire_ascetics"
flag_id = 0

# Earthen Peak
[[known_flags]]
id = "ascetic_lower_earthen_peak"
name = "Ascetic - Lower Earthen Peak"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_central_earthen_peak"
name = "Ascetic - Central Earthen Peak"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_upper_earthen_peak"
name = "Ascetic - Upper Earthen Peak"
category = "bonfire_ascetics"
flag_id = 0

# Iron Keep
[[known_flags]]
id = "ascetic_threshold_bridge"
name = "Ascetic - Threshold Bridge"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_ironhearth_hall"
name = "Ascetic - Ironhearth Hall"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_eygils_idol"
name = "Ascetic - Eygil's Idol"
category = "bonfire_ascetics"
flag_id = 0

# Belfry Sol
[[known_flags]]
id = "ascetic_belfry_sol"
name = "Ascetic - Belfry Sol Approach"
category = "bonfire_ascetics"
flag_id = 0

# Shaded Woods
[[known_flags]]
id = "ascetic_ruined_fork_road"
name = "Ascetic - Ruined Fork Road"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_shaded_ruins"
name = "Ascetic - Shaded Ruins"
category = "bonfire_ascetics"
flag_id = 0

# Doors of Pharros
[[known_flags]]
id = "ascetic_gyrms_respite"
name = "Ascetic - Gyrm's Respite"
category = "bonfire_ascetics"
flag_id = 0

# Brightstone Cove Tseldora
[[known_flags]]
id = "ascetic_royal_army_campsite"
name = "Ascetic - Royal Army Campsite"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_chapel_threshold"
name = "Ascetic - Chapel Threshold"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_lower_brightstone_cove"
name = "Ascetic - Lower Brightstone Cove"
category = "bonfire_ascetics"
flag_id = 0

# Grave of Saints
[[known_flags]]
id = "ascetic_grave_entrance"
name = "Ascetic - Grave Entrance"
category = "bonfire_ascetics"
flag_id = 0

# The Gutter
[[known_flags]]
id = "ascetic_upper_gutter"
name = "Ascetic - Upper Gutter"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_central_gutter"
name = "Ascetic - Central Gutter"
category = "bonfire_ascetics"
flag_id = 0

# Black Gulch
[[known_flags]]
id = "ascetic_black_gulch_mouth"
name = "Ascetic - Black Gulch Mouth"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_hidden_chamber"
name = "Ascetic - Hidden Chamber"
category = "bonfire_ascetics"
flag_id = 0

# Drangleic Castle
[[known_flags]]
id = "ascetic_kings_gate"
name = "Ascetic - King's Gate"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_central_castle"
name = "Ascetic - Central Castle Drangleic"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_forgotten_chamber"
name = "Ascetic - Forgotten Chamber"
category = "bonfire_ascetics"
flag_id = 0

# Shrine of Amana
[[known_flags]]
id = "ascetic_tower_of_prayer"
name = "Ascetic - Tower of Prayer"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_crumbled_ruins"
name = "Ascetic - Crumbled Ruins"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_rhoys_resting_place"
name = "Ascetic - Rhoy's Resting Place"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_rise_of_the_dead"
name = "Ascetic - Rise of the Dead"
category = "bonfire_ascetics"
flag_id = 0

# Undead Crypt
[[known_flags]]
id = "ascetic_undead_crypt_entrance"
name = "Ascetic - Undead Crypt Entrance"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_undead_ditch"
name = "Ascetic - Undead Ditch"
category = "bonfire_ascetics"
flag_id = 0

# Aldia's Keep
[[known_flags]]
id = "ascetic_foregarden"
name = "Ascetic - Foregarden"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_ritual_site"
name = "Ascetic - Ritual Site"
category = "bonfire_ascetics"
flag_id = 0

# Dragon Aerie / Shrine
[[known_flags]]
id = "ascetic_dragon_aerie"
name = "Ascetic - Dragon Aerie"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_shrine_entrance"
name = "Ascetic - Shrine Entrance"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_sanctum_walk"
name = "Ascetic - Sanctum Walk"
category = "bonfire_ascetics"
flag_id = 0

# Memory of Jeigh (Giant Lord farm - very popular)
[[known_flags]]
id = "ascetic_memory_of_jeigh"
name = "Ascetic - Memory of Jeigh"
category = "bonfire_ascetics"
flag_id = 0

# DLC - Crown of the Sunken King
[[known_flags]]
id = "ascetic_sanctum_walk_sunken"
name = "Ascetic - Sanctum Walk (Shulva)"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_priestly_chamber"
name = "Ascetic - Priestly Chamber"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_hidden_sanctum_chamber"
name = "Ascetic - Hidden Sanctum Chamber"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_lair_of_the_imperfect"
name = "Ascetic - Lair of the Imperfect"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_sanctum_interior"
name = "Ascetic - Sanctum Interior"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_sanctum_nadir"
name = "Ascetic - Sanctum Nadir"
category = "bonfire_ascetics"
flag_id = 0

# DLC - Crown of the Old Iron King
[[known_flags]]
id = "ascetic_throne_floor"
name = "Ascetic - Throne Floor"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_smelter_throne"
name = "Ascetic - Smelter Throne"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_iron_hallway_entrance"
name = "Ascetic - Iron Hallway Entrance"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_ironhearth_hall_brume"
name = "Ascetic - Ironhearth Hall (Brume)"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_uppermost_floor"
name = "Ascetic - Uppermost Floor"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_foyer"
name = "Ascetic - Foyer"
category = "bonfire_ascetics"
flag_id = 0

# DLC - Crown of the Ivory King
[[known_flags]]
id = "ascetic_outer_wall"
name = "Ascetic - Outer Wall"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_abandoned_dwelling"
name = "Ascetic - Abandoned Dwelling"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_expulsion_chamber"
name = "Ascetic - Expulsion Chamber"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_inner_wall"
name = "Ascetic - Inner Wall"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_lower_garrison"
name = "Ascetic - Lower Garrison"
category = "bonfire_ascetics"
flag_id = 0

[[known_flags]]
id = "ascetic_grand_cathedral"
name = "Ascetic - Grand Cathedral"
category = "bonfire_ascetics"
flag_id = 0

# Key Items
[[known_flags]]
id = "rotunda_lockstone"
name = "Rotunda Lockstone Used"
category = "key_items"
flag_id = 0

[[known_flags]]
id = "kings_ring"
name = "King's Ring Obtained"
category = "key_items"
flag_id = 0

[[known_flags]]
id = "ashen_mist_heart"
name = "Ashen Mist Heart Obtained"
category = "key_items"
flag_id = 0

[[known_flags]]
id = "giants_kinship"
name = "Giant's Kinship Obtained"
category = "key_items"
flag_id = 0

# Great Souls
[[known_flags]]
id = "old_witch_soul"
name = "Old Witch Soul (Lost Sinner)"
category = "great_souls"
flag_id = 0

[[known_flags]]
id = "old_iron_soul"
name = "Old Iron King Soul"
category = "great_souls"
flag_id = 0

[[known_flags]]
id = "old_dead_soul"
name = "Old Dead One Soul (Rotten)"
category = "great_souls"
flag_id = 0

[[known_flags]]
id = "old_paledrake_soul"
name = "Old Paledrake Soul (Freja)"
category = "great_souls"
flag_id = 0

# NPCs
[[known_flags]]
id = "licia_moved"
name = "Licia Moved to Majula"
category = "npc"
flag_id = 0

[[known_flags]]
id = "carhillion_moved"
name = "Carhillion Moved to Majula"
category = "npc"
flag_id = 0

[[known_flags]]
id = "gavlan_moved"
name = "Gavlan Moved (Final Location)"
category = "npc"
flag_id = 0

# Primal Bonfires
[[known_flags]]
id = "primal_lost_sinner"
name = "Primal Bonfire - Lost Sinner"
category = "primal_bonfires"
flag_id = 0

[[known_flags]]
id = "primal_old_iron_king"
name = "Primal Bonfire - Old Iron King"
category = "primal_bonfires"
flag_id = 0

[[known_flags]]
id = "primal_rotten"
name = "Primal Bonfire - The Rotten"
category = "primal_bonfires"
flag_id = 0

[[known_flags]]
id = "primal_freja"
name = "Primal Bonfire - Duke's Dear Freja"
category = "primal_bonfires"
flag_id = 0

# =============================================================================
# PRESETS
# =============================================================================

# Presets
[[presets]]
id = "all-bosses"
name = "All Bosses"
description = "All main game bosses (32 bosses)"
boss_ids = [
    "last_giant", "pursuer", "dragonrider", "old_dragonslayer", "flexile_sentry",
    "ruin_sentinels", "lost_sinner", "belfry_gargoyles", "skeleton_lords",
    "executioners_chariot", "covetous_demon", "mytha", "smelter_demon", "old_iron_king",
    "scorpioness_najka", "royal_rat_authority", "prowling_magus", "dukes_dear_freja",
    "royal_rat_vanguard", "rotten", "dragonriders", "looking_glass_knight", "demon_of_song",
    "velstadt", "vendrick", "guardian_dragon", "ancient_dragon", "giant_lord",
    "throne_duo", "nashandra", "aldia", "darklurker"
]

[[presets]]
id = "all-bosses-dlc"
name = "All Bosses + DLC"
description = "All bosses including DLC (41 bosses)"
boss_ids = [
    "last_giant", "pursuer", "dragonrider", "old_dragonslayer", "flexile_sentry",
    "ruin_sentinels", "lost_sinner", "belfry_gargoyles", "skeleton_lords",
    "executioners_chariot", "covetous_demon", "mytha", "smelter_demon", "old_iron_king",
    "scorpioness_najka", "royal_rat_authority", "prowling_magus", "dukes_dear_freja",
    "royal_rat_vanguard", "rotten", "dragonriders", "looking_glass_knight", "demon_of_song",
    "velstadt", "vendrick", "guardian_dragon", "ancient_dragon", "giant_lord",
    "throne_duo", "nashandra", "aldia", "darklurker",
    "elana", "sinh", "afflicted_graverobber", "blue_smelter", "fume_knight", "sir_alonne",
    "aava", "burnt_ivory_king", "lud_zallen"
]

[[presets]]
id = "any-percent"
name = "Any%"
description = "Required bosses only"
boss_ids = [
    "last_giant", "pursuer", "dragonrider", "ruin_sentinels",
    "scorpioness_najka", "prowling_magus", "rotten",
    "dragonriders", "looking_glass_knight", "demon_of_song", "velstadt",
    "guardian_dragon", "giant_lord", "throne_duo", "nashandra"
]
